# -*- coding: utf-8 -*-
"""
Created on Sat Oct 26 21:52:22 2019

@author: student-minecraft
"""
import numpy as np
import Coin_Environment as ce
#import time

#t1 = time.time()

coin = ce.coin_environment()
     
trials = 100
mean_every_trial = np.empty(33)

for explore_trials in range (1, 34):
    exploit_trials = trials - 3 * explore_trials
    total_every_trial = np.empty(trials)
    
    for r in range(trials):

        array = np.zeros(3)
        
        for i in range(1, 4):
    
            for n in range (explore_trials):
        
                if (coin.flip(i) == "heads"):
                     array[i-1] += 1
        
        random_number = np.random.rand()
        
        if array[0] == array[1]:    
            if random_number < 0.5:
                array[0] =+ 1
            else:
                array[1] =+ 1
            best_coin = np.argmax(array) + 1

        elif array[1] == array[2]:
            if random_number < 0.5:
                array[1] =+ 1
            else:
                array[2] =+ 1
            best_coin = np.argmax(array) + 1
            
        elif array[0] == array[2]:
            if random_number < 0.5:
                array[0] =+ 1
            else:
                array[2] =+ 1
            best_coin = np.argmax(array) + 1
            
        else:
            best_coin = np.argmax(array) + 1
            
        total_number_of_heads = np.sum(array)
         
        for y in range (exploit_trials): 
    
            if(coin.flip(best_coin) == "heads"):
                total_number_of_heads += 1
            
        total_every_trial[r] = total_number_of_heads
    
    mean_every_trial[explore_trials - 1] = np.mean(total_every_trial)

right_explore = np.argmax(mean_every_trial)
     
print ("Best number of explore trials"  +  " = " + str(right_explore + 1))   

#t2 = time.time()

#print (t2 - t1)