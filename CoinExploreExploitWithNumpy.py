# -*- coding: utf-8 -*-
"""
Created on Sat Oct 26 21:52:22 2019

@author: student-minecraft
"""
import numpy as np
import Coin_Environment as ce
import matplotlib.pyplot as plt
#import time

#t1 = time.time()

coin = ce.coin_environment()

repetition = 1000
trials = 100
mean_every_trial = np.empty(33)
data = []

for explore_trials in range (1, 34):
    exploit_trials = trials - 3 * explore_trials
    total_every_trial = np.empty(repetition)
    
    for r in range(repetition):

        array = np.zeros(3)
        
        for i in range(1, 4):
    
            for n in range (explore_trials):
        
                if (coin.flip(i) == "heads"):
                     array[i-1] += 1
        
        array2 = np.where(array == np.max(array))[0]
        best_coin = np.random.choice(array2) + 1
       
        total_number_of_heads = np.sum(array)
         
        for y in range (exploit_trials): 
    
            if(coin.flip(best_coin) == "heads"):
                total_number_of_heads += 1
            
        total_every_trial[r] = total_number_of_heads
        
    data.append(total_every_trial)
    
    mean_every_trial[explore_trials - 1] = np.mean(total_every_trial)

right_explore = np.argmax(mean_every_trial)
     
print ("Best number of explore trials"  +  " = " + str(right_explore + 1))   

#t2 = time.time()

#print (t2 - t1)

# Make the figure:
plt.figure()

plt.boxplot(data)

# Add axis labels and a title:
plt.xlabel('Explore Trials')
plt.ylabel('Total Heads')
plt.title('Explore/Exploit Results')

